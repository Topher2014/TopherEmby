{"ast":null,"code":"import _slicedToArray from\"/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';// import {ListItem, List, Container, Typography} from '@mui/material';\nimport{Container,Typography,List,ListItem,Box,Chip}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Requests(_ref){var groupID=_ref.groupID;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),requests=_useState2[0],setRequests=_useState2[1];useEffect(function(){if(groupID)fetch(\"/groups/\".concat(groupID,\"/requests\")).then(function(res){return res.json();}).then(function(data){return setRequests(data);});},[groupID]);function handleDeleteClick(id){console.log(id);fetch(\"/deleterequest\",{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id})});window.location.reload(true);}var renderRequests=requests.map(function(request){var type='';if(request.type==='movie'){type=request.type.charAt(0).toUpperCase()+request.type.slice(1);}else if(request.type==='tv'){type='Show';}return/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(Chip,{label:\"\".concat(type,\" \").concat(request.name,\" \").concat(request.quality,\" \").concat(request.imdb_id),onDelete:function onDelete(){return handleDeleteClick(request.id);}})})},request.id);});return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{fontSize:24,children:\"Requests\"}),requests.length>0?/*#__PURE__*/_jsx(List,{sx:{width:'100%',bgcolor:'background.paper'},children:renderRequests}):/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsx(Typography,{children:\"No requests found.\"})})]});}export default Requests;","map":{"version":3,"names":["useState","useEffect","Container","Typography","List","ListItem","Box","Chip","jsx","_jsx","jsxs","_jsxs","Requests","_ref","groupID","_useState","_useState2","_slicedToArray","requests","setRequests","fetch","concat","then","res","json","data","handleDeleteClick","id","console","log","method","headers","body","JSON","stringify","window","location","reload","renderRequests","map","request","type","charAt","toUpperCase","slice","children","label","name","quality","imdb_id","onDelete","fontSize","length","sx","width","bgcolor","mt"],"sources":["/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/src/Components/Requests.js"],"sourcesContent":["import {useState, useEffect} from 'react'\n// import {ListItem, List, Container, Typography} from '@mui/material';\nimport { Container, Typography, List, ListItem, Box, Chip } from '@mui/material';\n\nfunction Requests({ groupID }) {\n  const [requests, setRequests] = useState([]);\n\n  useEffect(() => {\n    if (groupID)\n      fetch(`/groups/${groupID}/requests`)\n        .then((res) => res.json())\n        .then((data) => setRequests(data));\n  }, [groupID]);\n\n  function handleDeleteClick(id){\n    console.log(id)\n      fetch(`/deleterequest`, {\n          method: 'DELETE',\n          headers: {\n              'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({id: id}),\n      })\n          window.location.reload(true)\n  }\n\n  const renderRequests = requests.map((request) => {\n    let type = '';\n    if (request.type === 'movie') {\n      type = request.type.charAt(0).toUpperCase() + request.type.slice(1);\n    } else if (request.type === 'tv') {\n      type = 'Show';\n    }\n    return (\n      <ListItem key={request.id}>\n        <ListItem>\n          {/* <Typography fontSize={14}> {type} {request.name} {request.quality} {request.imdb_id} <Chip label='Remove'  onDelete={handleDeleteClick} ></Chip></Typography> */}\n         {/* <Chip >  {type} {request.name} {request.quality} {request.imdb_id} </Chip>  */}\n         <Chip label={`${type} ${request.name} ${request.quality} ${request.imdb_id}`} onDelete={() => handleDeleteClick(request.id)}/>\n\n        </ListItem>\n      </ListItem>\n    );\n  });\n\n  return (\n    <Container>\n      <Typography fontSize={24}>\n        Requests\n      </Typography>\n      {requests.length > 0 ? (\n        <List sx={{ width: '100%', bgcolor: 'background.paper' }}>\n          {renderRequests}\n        </List>\n      ) : (\n        <Box sx={{ mt: 2 }}>\n          <Typography>No requests found.</Typography>\n        </Box>\n      )}\n    </Container>\n  );\n}\n\nexport default Requests;\n"],"mappings":"oJAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC;AACA,OAASC,SAAS,CAAEC,UAAU,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,GAAG,CAAEC,IAAI,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjF,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAc,IAAX,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CACzB,IAAAC,SAAA,CAAgCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5Bf,SAAS,CAAC,UAAM,CACd,GAAIa,OAAO,CACTM,KAAK,YAAAC,MAAA,CAAYP,OAAO,cAAY,CACjCQ,IAAI,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,QAAK,CAAAN,WAAW,CAACM,IAAI,CAAC,GAAC,CACxC,CAAC,CAAE,CAACX,OAAO,CAAC,CAAC,CAEb,QAAS,CAAAY,iBAAiBA,CAACC,EAAE,CAAC,CAC5BC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC,CACbP,KAAK,kBAAmB,CACpBU,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACP,EAAE,CAAEA,EAAE,CAAC,CACjC,CAAC,CAAC,CACEQ,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC,CACpC,CAEA,GAAM,CAAAC,cAAc,CAAGpB,QAAQ,CAACqB,GAAG,CAAC,SAACC,OAAO,CAAK,CAC/C,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,GAAID,OAAO,CAACC,IAAI,GAAK,OAAO,CAAE,CAC5BA,IAAI,CAAGD,OAAO,CAACC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,CAAGH,OAAO,CAACC,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CACrE,CAAC,IAAM,IAAIJ,OAAO,CAACC,IAAI,GAAK,IAAI,CAAE,CAChCA,IAAI,CAAG,MAAM,CACf,CACA,mBACEhC,IAAA,CAACJ,QAAQ,EAAAwC,QAAA,cACPpC,IAAA,CAACJ,QAAQ,EAAAwC,QAAA,cAGRpC,IAAA,CAACF,IAAI,EAACuC,KAAK,IAAAzB,MAAA,CAAKoB,IAAI,MAAApB,MAAA,CAAImB,OAAO,CAACO,IAAI,MAAA1B,MAAA,CAAImB,OAAO,CAACQ,OAAO,MAAA3B,MAAA,CAAImB,OAAO,CAACS,OAAO,CAAG,CAACC,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAxB,iBAAiB,CAACc,OAAO,CAACb,EAAE,CAAC,EAAC,EAAE,EAEpH,EANEa,OAAO,CAACb,EAAE,CAOd,CAEf,CAAC,CAAC,CAEF,mBACEhB,KAAA,CAACT,SAAS,EAAA2C,QAAA,eACRpC,IAAA,CAACN,UAAU,EAACgD,QAAQ,CAAE,EAAG,CAAAN,QAAA,CAAC,UAE1B,EAAa,CACZ3B,QAAQ,CAACkC,MAAM,CAAG,CAAC,cAClB3C,IAAA,CAACL,IAAI,EAACiD,EAAE,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,OAAO,CAAE,kBAAmB,CAAE,CAAAV,QAAA,CACtDP,cAAc,EACV,cAEP7B,IAAA,CAACH,GAAG,EAAC+C,EAAE,CAAE,CAAEG,EAAE,CAAE,CAAE,CAAE,CAAAX,QAAA,cACjBpC,IAAA,CAACN,UAAU,EAAA0C,QAAA,CAAC,oBAAkB,EAAa,EAE9C,GACS,CAEhB,CAEA,cAAe,CAAAjC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}