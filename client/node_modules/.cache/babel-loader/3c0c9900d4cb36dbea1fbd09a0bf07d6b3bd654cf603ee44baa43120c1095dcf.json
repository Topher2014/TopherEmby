{"ast":null,"code":"import _slicedToArray from\"/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useHistory}from'react-router-dom';import Requests from'./Requests';import GroupUsers from'./GroupUsers';import{Button,List,Container,Box,Typography,MenuItem,TextField}from'@mui/material';import{styled}from'@mui/system';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditButton=styled(Button)({margin:'16px 0',fontWeight:'bold',color:'white',background:'#2e7d32','&:hover':{background:'#1b5e20'}});var SelectBox=styled(TextField)({margin:'16px 0'});function Groups(_ref){var groups=_ref.groups,fetchGroups=_ref.fetchGroups,user=_ref.user;useEffect(function(){fetchGroups();},[]);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),groupID=_useState2[0],setGroupID=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),showUsers=_useState4[0],setShowUsers=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),initial=_useState6[0],setInitial=_useState6[1];var _useState7=useState('Select a group...'),_useState8=_slicedToArray(_useState7,2),label=_useState8[0],setLabel=_useState8[1];var history=useHistory();function handleClick(){fetchGroups();setShowUsers(function(toggle){return!toggle;});}var users=groups.map(function(mappedGroups){return mappedGroups.groupuser;}).flat().filter(function(filteredGroups){return filteredGroups.group_id===groupID;}).map(function(group){return group.users;});var buttonText=showUsers?/*#__PURE__*/_jsx(Button,{onClick:handleClick,children:\"Show Requests\"}):/*#__PURE__*/_jsx(Button,{onClick:handleClick,children:\"Show Users\"});var initalButtonText=!initial?buttonText:null;var renderInfo=showUsers?/*#__PURE__*/_jsx(GroupUsers,{users:users,user:user}):/*#__PURE__*/_jsx(Requests,{groupID:groupID});var initialRenderInfo=!initial?renderInfo:null;var renderGroups=groups.map(function(mappedGroups){return mappedGroups.groupuser;}).flat().filter(function(filteredGroups){return filteredGroups.user_id===user.id;}).map(function(group){return/*#__PURE__*/_jsx(MenuItem,{onClick:function onClick(){setGroupID(group.groups.id);setInitial(false);setLabel(group.groups.name);},children:group.groups.name},group.groups.id);});return/*#__PURE__*/_jsxs(Container,{sx:{marginTop:10},children:[/*#__PURE__*/_jsx(Typography,{children:\"Groups\"}),/*#__PURE__*/_jsx(EditButton,{onClick:function onClick(){return history.push('/editgroups');},children:\"Edit Groups\"}),/*#__PURE__*/_jsx(SelectBox,{label:label,select:true,name:\"group_id\",fullWidth:true,children:renderGroups}),initalButtonText,initialRenderInfo]});}export default Groups;","map":{"version":3,"names":["useEffect","useState","useHistory","Requests","GroupUsers","Button","List","Container","Box","Typography","MenuItem","TextField","styled","jsx","_jsx","jsxs","_jsxs","EditButton","margin","fontWeight","color","background","SelectBox","Groups","_ref","groups","fetchGroups","user","_useState","_useState2","_slicedToArray","groupID","setGroupID","_useState3","_useState4","showUsers","setShowUsers","_useState5","_useState6","initial","setInitial","_useState7","_useState8","label","setLabel","history","handleClick","toggle","users","map","mappedGroups","groupuser","flat","filter","filteredGroups","group_id","group","buttonText","onClick","children","initalButtonText","renderInfo","initialRenderInfo","renderGroups","user_id","id","name","sx","marginTop","push","select","fullWidth"],"sources":["/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/src/Components/Groups.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Requests from './Requests'\nimport GroupUsers from './GroupUsers'\nimport { Button, List, Container, Box, Typography, MenuItem, TextField } from '@mui/material';\nimport { styled } from '@mui/system';\n\n  const EditButton = styled(Button)({\n    margin: '16px 0',\n    fontWeight: 'bold',\n    color: 'white',\n    background: '#2e7d32',\n    '&:hover': {\n      background: '#1b5e20',\n    },\n  });\n  \n  const SelectBox = styled(TextField)({\n    margin: '16px 0',\n  });\n\nfunction Groups({ groups, fetchGroups, user }) {\n  useEffect(() => {\n    fetchGroups()\n  }, [])\n\n  const [groupID, setGroupID] = useState(null)\n  const [showUsers, setShowUsers] = useState(null)\n  const [initial, setInitial] = useState(true)\n  const [label, setLabel] = useState('Select a group...')\n  const history = useHistory()\n\n  function handleClick() {\n    fetchGroups()\n    setShowUsers((toggle) => !toggle)\n  }\n\n  const users = groups\n    .map((mappedGroups) => mappedGroups.groupuser)\n    .flat()\n    .filter((filteredGroups) => filteredGroups.group_id === groupID)\n    .map((group) => group.users)\n\n  const buttonText = showUsers ? (\n    <Button onClick={handleClick}>Show Requests</Button>\n  ) : (\n    <Button onClick={handleClick}>Show Users</Button>\n  )\n\n  const initalButtonText = !initial ? buttonText : null\n\n  const renderInfo = showUsers ? (\n    <GroupUsers users={users} user={user} />\n  ) : (\n    <Requests groupID={groupID} />\n  )\n\n  const initialRenderInfo = !initial ? renderInfo : null\n\n  const renderGroups = groups\n    .map((mappedGroups) => mappedGroups.groupuser)\n    .flat()\n    .filter((filteredGroups) => filteredGroups.user_id === user.id)\n    .map((group) => {\n      return (\n        <MenuItem\n          key={group.groups.id}\n          onClick={() => {\n            setGroupID(group.groups.id)\n            setInitial(false)\n            setLabel(group.groups.name)\n          }}\n        >\n          {group.groups.name}\n        </MenuItem>\n      )\n    })\n\n  return (\n    <Container sx={{marginTop: 10}} >\n      <Typography >Groups</Typography>\n      <EditButton onClick={() => history.push('/editgroups')}>\n        Edit Groups\n      </EditButton>\n      <SelectBox label={label} select name=\"group_id\" fullWidth>\n        {renderGroups}\n      </SelectBox>\n      {initalButtonText}\n      {initialRenderInfo}\n    </Container>\n  )\n}\n\nexport default Groups"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}