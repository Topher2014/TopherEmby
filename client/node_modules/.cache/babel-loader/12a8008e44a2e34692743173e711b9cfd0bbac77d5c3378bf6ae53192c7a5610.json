{"ast":null,"code":"var _jsxFileName = \"/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/src/Components/Groups.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Requests from './Requests';\nimport GroupUsers from './GroupUsers';\nimport { Button, List, Container, Box, Typography, MenuItem, TextField } from '@mui/material';\nimport { styled } from '@mui/system';\nimport { GroupTitle, EditButton, SelectBox, GroupButton } from './AddRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Groups(_ref) {\n  _s();\n  let {\n    groups,\n    fetchGroups,\n    user\n  } = _ref;\n  useEffect(() => {\n    fetchGroups();\n  }, []);\n  const [groupID, setGroupID] = useState(null);\n  const [showUsers, setShowUsers] = useState(null);\n  const [initial, setInitial] = useState(true);\n  const [label, setLabel] = useState('Select a group...');\n  const history = useHistory();\n  function handleClick() {\n    fetchGroups();\n    setShowUsers(toggle => !toggle);\n  }\n  const users = groups.map(mappedGroups => mappedGroups.groupuser).flat().filter(filteredGroups => filteredGroups.group_id === groupID).map(group => group.users);\n  const buttonText = showUsers ? /*#__PURE__*/_jsxDEV(GroupButton, {\n    onClick: handleClick,\n    children: \"Show Requests\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(GroupButton, {\n    onClick: handleClick,\n    children: \"Show Users\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n  const initalButtonText = !initial ? buttonText : null;\n  const renderInfo = showUsers ? /*#__PURE__*/_jsxDEV(GroupUsers, {\n    users: users,\n    user: user\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Requests, {\n    groupID: groupID\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n  const initialRenderInfo = !initial ? renderInfo : null;\n  const renderGroups = groups.map(mappedGroups => mappedGroups.groupuser).flat().filter(filteredGroups => filteredGroups.user_id === user.id).map(group => {\n    return /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        setGroupID(group.groups.id);\n        setInitial(false);\n        setLabel(group.groups.name);\n      },\n      children: group.groups.name\n    }, group.groups.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      marginTop: 10\n    },\n    children: [/*#__PURE__*/_jsxDEV(GroupTitle, {\n      children: \"Groups\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditButton, {\n      onClick: () => history.push('/editgroups'),\n      children: \"Edit Groups\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SelectBox, {\n      label: label,\n      select: true,\n      name: \"group_id\",\n      fullWidth: true,\n      children: renderGroups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), initalButtonText, initialRenderInfo]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Groups, \"Bh9I77rYWvMekRbZF+8BcMnnVig=\", false, function () {\n  return [useHistory];\n});\n_c = Groups;\nexport default Groups;\nvar _c;\n$RefreshReg$(_c, \"Groups\");","map":{"version":3,"names":["useEffect","useState","useHistory","Requests","GroupUsers","Button","List","Container","Box","Typography","MenuItem","TextField","styled","GroupTitle","EditButton","SelectBox","GroupButton","jsxDEV","_jsxDEV","Groups","_ref","_s","groups","fetchGroups","user","groupID","setGroupID","showUsers","setShowUsers","initial","setInitial","label","setLabel","history","handleClick","toggle","users","map","mappedGroups","groupuser","flat","filter","filteredGroups","group_id","group","buttonText","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","initalButtonText","renderInfo","initialRenderInfo","renderGroups","user_id","id","name","sx","marginTop","push","select","fullWidth","_c","$RefreshReg$"],"sources":["/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/src/Components/Groups.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Requests from './Requests'\nimport GroupUsers from './GroupUsers'\nimport { Button, List, Container, Box, Typography, MenuItem, TextField } from '@mui/material';\nimport { styled } from '@mui/system';\n\nimport { GroupTitle, EditButton, SelectBox, GroupButton } from './AddRequest';\n\nfunction Groups({ groups, fetchGroups, user }) {\n  useEffect(() => {\n    fetchGroups()\n  }, [])\n\n  const [groupID, setGroupID] = useState(null)\n  const [showUsers, setShowUsers] = useState(null)\n  const [initial, setInitial] = useState(true)\n  const [label, setLabel] = useState('Select a group...')\n  const history = useHistory()\n\n  function handleClick() {\n    fetchGroups()\n    setShowUsers((toggle) => !toggle)\n  }\n\n  const users = groups\n    .map((mappedGroups) => mappedGroups.groupuser)\n    .flat()\n    .filter((filteredGroups) => filteredGroups.group_id === groupID)\n    .map((group) => group.users)\n\n  const buttonText = showUsers ? (\n    <GroupButton onClick={handleClick}>Show Requests</GroupButton>\n  ) : (\n    <GroupButton onClick={handleClick}>Show Users</GroupButton>\n  )\n\n  const initalButtonText = !initial ? buttonText : null\n\n  const renderInfo = showUsers ? (\n    <GroupUsers users={users} user={user} />\n  ) : (\n    <Requests groupID={groupID} />\n  )\n\n  const initialRenderInfo = !initial ? renderInfo : null\n\n  const renderGroups = groups\n    .map((mappedGroups) => mappedGroups.groupuser)\n    .flat()\n    .filter((filteredGroups) => filteredGroups.user_id === user.id)\n    .map((group) => {\n      return (\n        <MenuItem\n          key={group.groups.id}\n          onClick={() => {\n            setGroupID(group.groups.id)\n            setInitial(false)\n            setLabel(group.groups.name)\n          }}\n        >\n          {group.groups.name}\n        </MenuItem>\n      )\n    })\n\n  return (\n    <Container sx={{marginTop: 10}} >\n      <GroupTitle>Groups</GroupTitle>\n      <EditButton onClick={() => history.push('/editgroups')}>\n        Edit Groups\n      </EditButton>\n      <SelectBox label={label} select name=\"group_id\" fullWidth>\n        {renderGroups}\n      </SelectBox>\n      {initalButtonText}\n      {initialRenderInfo}\n    </Container>\n  )\n}\n\nexport default Groups"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}