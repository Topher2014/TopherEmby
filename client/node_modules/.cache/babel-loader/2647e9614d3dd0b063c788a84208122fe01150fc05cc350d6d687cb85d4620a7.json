{"ast":null,"code":"import _slicedToArray from\"/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useFormik}from'formik';import*as yup from'yup';import{useHistory}from'react-router-dom';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import Grid from'@mui/material/Grid';import Box from'@mui/material/Box';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Authentication(_ref){var updateUser=_ref.updateUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),signUp=_useState4[0],setSignUp=_useState4[1];var history=useHistory();var handleClick=function handleClick(){return setSignUp(function(signUp){return!signUp;});};var formSchema=yup.object().shape({name:yup.string().required(\"Please enter a user name\"),password:yup.string().required('Please enter your password'),email:yup.string().email('Please enter a valid email')});var form=useFormik({initialValues:{name:'',email:'',password:''},validationSchema:formSchema,validateOnChange:false,onSubmit:function onSubmit(values){fetch(signUp?'/adduser':'/login',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(values)}).then(function(res){if(res.ok){res.json().then(function(user){updateUser(user);history.push('/');});}else{res.json().then(function(error){return setError(error.message);});}});}});return/*#__PURE__*/_jsxs(Container,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[error&&/*#__PURE__*/_jsxs(\"h2\",{style:{color:'red'},children:[\" \",error]}),/*#__PURE__*/_jsx(Typography,{children:\" Please Log in or Sign up! \"}),/*#__PURE__*/_jsxs(Typography,{children:[\" \",signUp?'Have an account?':'Not a member yet?',\" \"]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClick,children:signUp?'Log In':'Signup'}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,justifyContent:\"center\",children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},component:\"form\",onSubmit:form.handleSubmit,children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{type:\"text\",name:\"name\",label:\"Username\",value:form.values.name,onChange:form.handleChange,sx:{width:'calc(120% - 10px)'},error:form.touched.name&&Boolean(form.errors.name),helperText:form.touched.name&&form.errors.name})}),/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{type:\"password\",name:\"password\",label:\"Password\",value:form.values.password,onChange:form.handleChange,sx:{width:'calc(120% - 10px)'},error:form.touched.password&&Boolean(form.errors.password),helperText:form.touched.password&&form.errors.password})}),signUp&&/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{type:\"text\",name:\"email\",label:\"Email\",value:form.values.email,onChange:form.handleChange,sx:{width:'calc(120% - 10px)'},error:form.touched.email&&Boolean(form.errors.email),helperText:form.touched.email&&form.errors.email})}),/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsxs(Button,{type:\"submit\",children:[\" \",signUp?'Sign Up!':'Log In!',\" \"]})})]})})]});}export default Authentication;","map":{"version":3,"names":["React","useState","useFormik","yup","useHistory","Button","TextField","Grid","Box","Typography","Container","jsxs","_jsxs","jsx","_jsx","Authentication","_ref","updateUser","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","signUp","setSignUp","history","handleClick","formSchema","object","shape","name","string","required","password","email","form","initialValues","validationSchema","validateOnChange","onSubmit","values","fetch","method","headers","body","JSON","stringify","then","res","ok","json","user","push","message","sx","marginTop","display","flexDirection","alignItems","justifyContent","children","style","color","variant","onClick","container","spacing","component","handleSubmit","type","label","value","onChange","handleChange","width","touched","Boolean","errors","helperText"],"sources":["/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/src/Components/Authentication.js"],"sourcesContent":["import React, {useState} from 'react'\nimport { useFormik } from 'formik'\nimport * as yup from 'yup'\nimport {useHistory} from 'react-router-dom'\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\n\nfunction Authentication({updateUser}) {\n    const [error, setError] = useState(false)\n    const [signUp, setSignUp] = useState(false)\n    const history = useHistory()\n\n    const handleClick = () => setSignUp((signUp) => !signUp)\n    const formSchema = yup.object().shape({\n        name: yup.string().required(\"Please enter a user name\"),\n        password: yup.string().required('Please enter your password'),\n        email: yup.string().email('Please enter a valid email')\n      })\n\n    const form = useFormik({\n        initialValues: {\n            name:'',\n            email:'',\n            password:''\n        },\n        validationSchema: formSchema,\n        validateOnChange:false,\n        onSubmit: (values) => {\n            fetch(signUp?'/adduser':'/login',{\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify(values),\n            })\n            .then(res => {\n              if(res.ok){\n                res.json().then(user => {\n                  updateUser(user)\n                  history.push('/')\n                })\n              } else {\n                res.json().then(error => setError(error.message))\n              }\n            })\n           \n        },\n    })\n    return (\n        <Container\n           sx={{\n                marginTop: 8,\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center'\n            }}>\n          {error&& <h2 style={{color:'red'}} > {error}</h2>}\n          <Typography > Please Log in or Sign up! </Typography>\n          <Typography> {signUp?'Have an account?':'Not a member yet?'} </Typography>\n          <Button variant='contained'  onClick={handleClick}>\n          {signUp?'Log In':'Signup'}\n          </Button>\n          <Grid container spacing={2} justifyContent='center' >\n            <Box sx={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}component='form' onSubmit={form.handleSubmit}>\n              <Grid>\n              <TextField\n                type='text'\n                name=\"name\"\n                label=\"Username\"\n                value={form.values.name}\n                onChange={form.handleChange}\n                sx={{ width: 'calc(120% - 10px)' }}\n                error={form.touched.name && Boolean(form.errors.name)}\n                helperText={form.touched.name && form.errors.name}\n              />\n              </Grid>\n              <Grid>\n              <TextField\n                type='password'\n                name=\"password\"\n                label=\"Password\"\n                value={form.values.password}\n                onChange={form.handleChange}\n                sx={{ width: 'calc(120% - 10px)' }}\n                error={form.touched.password && Boolean(form.errors.password)}\n                helperText={form.touched.password && form.errors.password}\n              />\n              </Grid>\n            {signUp&&(\n              <Grid>\n              <TextField\n                type='text'\n                name=\"email\"\n                label=\"Email\"\n                value={form.values.email}\n                onChange={form.handleChange}\n                sx={{ width: 'calc(120% - 10px)' }}\n                error={form.touched.email && Boolean(form.errors.email)}\n                helperText={form.touched.email && form.errors.email}\n              />\n              </Grid>\n            )}\n            <Grid>\n            <Button type='submit'   > {signUp?'Sign Up!':'Log In!'} </Button>\n            </Grid>\n            </Box>\n          </Grid>\n        </Container>\n\n    )\n}\n\nexport default Authentication"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}