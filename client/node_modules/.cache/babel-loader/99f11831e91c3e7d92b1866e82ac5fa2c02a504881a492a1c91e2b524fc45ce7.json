{"ast":null,"code":"var _jsxFileName = \"/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/src/Components/Groups.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Requests from './Requests';\nimport GroupUsers from './GroupUsers';\nimport { Button, List, Container, Box, Typography, MenuItem, TextField } from '@mui/material';\nimport { styled } from '@mui/system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GroupTitle = styled(Typography)({\n  fontSize: 24,\n  fontWeight: 'bold',\n  marginBottom: 16\n});\n_c = GroupTitle;\nconst EditButton = styled(Button)({\n  margin: '16px 0',\n  fontWeight: 'bold',\n  color: 'white',\n  background: '#2e7d32',\n  '&:hover': {\n    background: '#1b5e20'\n  }\n});\n_c2 = EditButton;\nconst SelectBox = styled(TextField)({\n  margin: '16px 0'\n});\n_c3 = SelectBox;\nconst GroupButton = styled(Button)({\n  margin: '0 16px',\n  fontWeight: 'bold'\n});\n_c4 = GroupButton;\nfunction Groups(_ref) {\n  _s();\n  let {\n    groups,\n    fetchGroups,\n    user\n  } = _ref;\n  useEffect(() => {\n    fetchGroups();\n  }, []);\n  const [groupID, setGroupID] = useState(null);\n  const [showUsers, setShowUsers] = useState(null);\n  const [initial, setInitial] = useState(true);\n  const [label, setLabel] = useState('Select a group...');\n  const history = useHistory();\n  function handleClick() {\n    fetchGroups();\n    setShowUsers(toggle => !toggle);\n  }\n  const users = groups.map(mappedGroups => mappedGroups.groupuser).flat().filter(filteredGroups => filteredGroups.group_id === groupID).map(group => group.users);\n  const buttonText = showUsers ? /*#__PURE__*/_jsxDEV(GroupButton, {\n    onClick: handleClick,\n    children: \"Show Requests\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(GroupButton, {\n    onClick: handleClick,\n    children: \"Show Users\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n  const initalButtonText = !initial ? buttonText : null;\n  const renderInfo = showUsers ? /*#__PURE__*/_jsxDEV(GroupUsers, {\n    users: users,\n    user: user\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Requests, {\n    groupID: groupID\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n  const initialRenderInfo = !initial ? renderInfo : null;\n  const renderGroups = groups.map(mappedGroups => mappedGroups.groupuser).flat().filter(filteredGroups => filteredGroups.user_id === user.id).map(group => {\n    return /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        setGroupID(group.groups.id);\n        setInitial(false);\n        setLabel(group.groups.name);\n      },\n      children: group.groups.name\n    }, group.groups.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: [/*#__PURE__*/_jsxDEV(GroupTitle, {\n      children: \"Groups\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditButton, {\n      onClick: () => history.push('/editgroups'),\n      children: \"Edit Groups\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SelectBox, {\n      label: label,\n      select: true,\n      name: \"group_id\",\n      fullWidth: true,\n      children: renderGroups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), initalButtonText, initialRenderInfo]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(Groups, \"Bh9I77rYWvMekRbZF+8BcMnnVig=\", false, function () {\n  return [useHistory];\n});\n_c5 = Groups;\nexport default Groups;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"GroupTitle\");\n$RefreshReg$(_c2, \"EditButton\");\n$RefreshReg$(_c3, \"SelectBox\");\n$RefreshReg$(_c4, \"GroupButton\");\n$RefreshReg$(_c5, \"Groups\");","map":{"version":3,"names":["useEffect","useState","useHistory","Requests","GroupUsers","Button","List","Container","Box","Typography","MenuItem","TextField","styled","jsxDEV","_jsxDEV","GroupTitle","fontSize","fontWeight","marginBottom","_c","EditButton","margin","color","background","_c2","SelectBox","_c3","GroupButton","_c4","Groups","_ref","_s","groups","fetchGroups","user","groupID","setGroupID","showUsers","setShowUsers","initial","setInitial","label","setLabel","history","handleClick","toggle","users","map","mappedGroups","groupuser","flat","filter","filteredGroups","group_id","group","buttonText","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","initalButtonText","renderInfo","initialRenderInfo","renderGroups","user_id","id","name","maxWidth","push","select","fullWidth","_c5","$RefreshReg$"],"sources":["/home/topher/Desktop/Flatiron/Phase5/Project/TopherEmby/client/src/Components/Groups.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Requests from './Requests'\nimport GroupUsers from './GroupUsers'\nimport { Button, List, Container, Box, Typography, MenuItem, TextField } from '@mui/material';\nimport { styled } from '@mui/system';\n\nconst GroupTitle = styled(Typography)({\n  fontSize: 24,\n  fontWeight: 'bold',\n  marginBottom: 16,\n});\n\nconst EditButton = styled(Button)({\n  margin: '16px 0',\n  fontWeight: 'bold',\n  color: 'white',\n  background: '#2e7d32',\n  '&:hover': {\n    background: '#1b5e20',\n  },\n});\n\nconst SelectBox = styled(TextField)({\n  margin: '16px 0',\n});\n\nconst GroupButton = styled(Button)({\n  margin: '0 16px',\n  fontWeight: 'bold',\n});\n\nfunction Groups({ groups, fetchGroups, user }) {\n  useEffect(() => {\n    fetchGroups()\n  }, [])\n\n  const [groupID, setGroupID] = useState(null)\n  const [showUsers, setShowUsers] = useState(null)\n  const [initial, setInitial] = useState(true)\n  const [label, setLabel] = useState('Select a group...')\n  const history = useHistory()\n\n  function handleClick() {\n    fetchGroups()\n    setShowUsers((toggle) => !toggle)\n  }\n\n  const users = groups\n    .map((mappedGroups) => mappedGroups.groupuser)\n    .flat()\n    .filter((filteredGroups) => filteredGroups.group_id === groupID)\n    .map((group) => group.users)\n\n  const buttonText = showUsers ? (\n    <GroupButton onClick={handleClick}>Show Requests</GroupButton>\n  ) : (\n    <GroupButton onClick={handleClick}>Show Users</GroupButton>\n  )\n\n  const initalButtonText = !initial ? buttonText : null\n\n  const renderInfo = showUsers ? (\n    <GroupUsers users={users} user={user} />\n  ) : (\n    <Requests groupID={groupID} />\n  )\n\n  const initialRenderInfo = !initial ? renderInfo : null\n\n  const renderGroups = groups\n    .map((mappedGroups) => mappedGroups.groupuser)\n    .flat()\n    .filter((filteredGroups) => filteredGroups.user_id === user.id)\n    .map((group) => {\n      return (\n        <MenuItem\n          key={group.groups.id}\n          onClick={() => {\n            setGroupID(group.groups.id)\n            setInitial(false)\n            setLabel(group.groups.name)\n          }}\n        >\n          {group.groups.name}\n        </MenuItem>\n      )\n    })\n\n  return (\n    <Container maxWidth=\"sm\">\n      <GroupTitle>Groups</GroupTitle>\n      <EditButton onClick={() => history.push('/editgroups')}>\n        Edit Groups\n      </EditButton>\n      <SelectBox label={label} select name=\"group_id\" fullWidth>\n        {renderGroups}\n      </SelectBox>\n      {initalButtonText}\n      {initialRenderInfo}\n    </Container>\n  )\n}\n\nexport default Groups\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}